# AnythingLLM Integration Guide

–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ AnythingLLM —Å –≤–∞—à–∏–º vLLM –ø–∞–π–ø–ª–∞–π–Ω–æ–º.

## üéØ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ vLLM –¥–ª—è AnythingLLM

–í–∞—à vLLM –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç OpenAI-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π API, –∫–æ—Ç–æ—Ä—ã–π AnythingLLM –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞–ø—Ä—è–º—É—é.

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è LLM Provider –≤ AnythingLLM

#### –û–¥–Ω–∞ –º–æ–¥–µ–ª—å (MEDIUM model)

```
LLM Provider: Generic OpenAI
Base URL: http://localhost:8001/v1
API Key: not-needed
Model Name: <your-model-name>
```

–ù–∞–ø—Ä–∏–º–µ—Ä: `OpenGPT/gpt-oss-20b`, `meta-llama/Llama-2-13b-chat-hf`

#### –î–≤–µ –º–æ–¥–µ–ª–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

–ï—Å–ª–∏ –≤—ã –∑–∞–ø—É—Å—Ç–∏–ª–∏ `docker-compose.vllm-mig.yml` —Å dual models –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π:

**MEDIUM model (–±–æ–ª—å—à–∞—è –º–æ–¥–µ–ª—å, –ª—É—á—à–µ –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–¥–∞—á):**
```
LLM Provider: Generic OpenAI
Base URL: http://localhost:8001/v1
API Key: not-needed
Model Name: <your-medium-model-name>
```

**SMALL model (–±—ã—Å—Ç—Ä–∞—è –º–æ–¥–µ–ª—å, —Ö–æ—Ä–æ—à–∞ –¥–ª—è –∫–æ–¥–∞):**
```
LLM Provider: Generic OpenAI
Base URL: http://localhost:8002/v1
API Key: not-needed
Model Name: <your-small-model-name>
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Qdrant Vector Database –≤ AnythingLLM

```
Vector Database: Qdrant
Qdrant API Endpoint: http://localhost:6333
API Key: (–æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º)
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ —Ä–∞–∑–Ω—ã–µ —Å–µ—Ç–∏ Docker

–ï—Å–ª–∏ AnythingLLM –∏ –≤–∞—à –ø–∞–π–ø–ª–∞–π–Ω –≤ —Ä–∞–∑–Ω—ã—Ö Docker —Å–µ—Ç—è—Ö:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å IP –∞–¥—Ä–µ—Å —Ö–æ—Å—Ç–∞

–£–∑–Ω–∞–π—Ç–µ IP –∞–¥—Ä–µ—Å —Ö–æ—Å—Ç–∞:
```bash
# Linux/Mac
hostname -I | awk '{print $1}'

# –∏–ª–∏
ifconfig | grep "inet " | grep -v 127.0.0.1
```

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤ AnythingLLM:
```
Base URL: http://<HOST_IP>:8001/v1
Qdrant Endpoint: http://<HOST_IP>:6333
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –û–±—ä–µ–¥–∏–Ω–∏—Ç—å Docker —Å–µ—Ç–∏

```bash
# –£–∑–Ω–∞—Ç—å –∏–º—è —Å–µ—Ç–∏ –≤–∞—à–µ–≥–æ –ø–∞–π–ø–ª–∞–π–Ω–∞
docker network ls

# –ü–æ–¥–∫–ª—é—á–∏—Ç—å AnythingLLM –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∫ —ç—Ç–æ–π —Å–µ—Ç–∏
docker network connect <network_name> <anythingllm_container_name>

# –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–º–µ–Ω–∞ —Å–µ—Ä–≤–∏—Å–æ–≤:
# vLLM: http://vllm-gpt:8001/v1
# Qdrant: http://qdrant:6333
```

## üöÄ –ó–∞–ø—É—Å–∫ –ø–∞–π–ø–ª–∞–π–Ω–∞

### –û–¥–Ω–∞ –º–æ–¥–µ–ª—å
```bash
# –ó–∞–ø—É—Å–∫
docker-compose -f docker-compose.vllm-mig.yml up -d

# –ü—Ä–æ–≤–µ—Ä–∫–∞
curl http://localhost:8001/health
curl http://localhost:6333/healthz
```

### –î–≤–µ –º–æ–¥–µ–ª–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
```bash
# –°–æ–∑–¥–∞–π—Ç–µ .env.vllm-dual-models —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –æ–±–µ–∏—Ö –º–æ–¥–µ–ª–µ–π
# –°–º. DUAL_MODELS_QUICKSTART.md –¥–ª—è –¥–µ—Ç–∞–ª–µ–π

# –ó–∞–ø—É—Å–∫
make up-dual-models

# –ü—Ä–æ–≤–µ—Ä–∫–∞
make test-both-models
```

## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ vLLM

```bash
# Health check
curl http://localhost:8001/health

# –°–ø–∏—Å–æ–∫ –º–æ–¥–µ–ª–µ–π
curl http://localhost:8001/v1/models

# –¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å
curl -X POST http://localhost:8001/v1/chat/completions \
  -H "Content-Type: application/json" \
  -d '{
    "model": "OpenGPT/gpt-oss-20b",
    "messages": [{"role": "user", "content": "Hello!"}],
    "temperature": 0.7,
    "max_tokens": 100
  }'
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ Qdrant

```bash
# Health check
curl http://localhost:6333/healthz

# –°–ø–∏—Å–æ–∫ –∫–æ–ª–ª–µ–∫—Ü–∏–π
curl http://localhost:6333/collections

# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–ª–∞—Å—Ç–µ—Ä–µ
curl http://localhost:6333/cluster
```

## üìä –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –≤—ã–±–æ—Ä—É –º–æ–¥–µ–ª–∏

### MEDIUM model (–ø–æ—Ä—Ç 8001)
- ‚úÖ **–õ—É—á—à–µ –¥–ª—è:**
  - –°–ª–æ–∂–Ω—ã—Ö —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏–π –∏ –∞–Ω–∞–ª–∏–∑–∞
  - –†–∞–±–æ—Ç—ã —Å –±–æ–ª—å—à–∏–º–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏
  - –î–µ—Ç–∞–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ —Å–ª–æ–∂–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã
  - –í—ã—Å–æ–∫–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–∞

- ‚ùå **–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
  - –ú–µ–¥–ª–µ–Ω–Ω–µ–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è (–æ–±—ã—á–Ω–æ ~30-50 tokens/sec)
  - –¢—Ä–µ–±—É–µ—Ç –±–æ–ª—å—à–µ GPU –ø–∞–º—è—Ç–∏ (–æ–±—ã—á–Ω–æ ~40-45 GB –¥–ª—è ~20B –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤)
  - –í—ã—à–µ latency –ø–µ—Ä–≤–æ–≥–æ —Ç–æ–∫–µ–Ω–∞ (~500-800ms)

### SMALL model (–ø–æ—Ä—Ç 8002)
- ‚úÖ **–õ—É—á—à–µ –¥–ª—è:**
  - –ë—ã—Å—Ç—Ä—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞
  - –ü—Ä–æ—Å—Ç—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π
  - –í—ã—Å–æ–∫–æ–π –ø—Ä–æ–ø—É—Å–∫–Ω–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

- ‚ùå **–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
  - –ú–µ–Ω–µ–µ –¥–µ—Ç–∞–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ —Å–ª–æ–∂–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã
  - –ú–µ–Ω—å—à–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (–æ–±—ã—á–Ω–æ 7B vs 20B)

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ API –∫–ª—é—á–∞ –¥–ª—è vLLM

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∑–∞—â–∏—Ç–∏—Ç—å vLLM API –∫–ª—é—á–æ–º, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å nginx reverse proxy:

```nginx
location /v1 {
    if ($http_authorization != "Bearer your-secret-key") {
        return 401;
    }
    proxy_pass http://vllm:8001;
}
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ API –∫–ª—é—á–∞ –¥–ª—è Qdrant

–û–±–Ω–æ–≤–∏—Ç–µ `docker-compose.vllm-mig.yml`:

```yaml
qdrant:
  environment:
    - QDRANT__SERVICE__API_KEY=your-secret-api-key-here
```

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤ AnythingLLM:
```
API Key: your-secret-api-key-here
```

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: AnythingLLM –Ω–µ –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ vLLM

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ vLLM –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω: `docker ps | grep vllm`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ health endpoint: `curl http://localhost:8001/health`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `docker logs vllm-gpt-20b`
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL —Å `/v1` –Ω–∞ –∫–æ–Ω—Ü–µ

### –ü—Ä–æ–±–ª–µ–º–∞: AnythingLLM –Ω–µ –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ Qdrant

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Qdrant –∑–∞–ø—É—â–µ–Ω: `docker ps | grep qdrant`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ health endpoint: `curl http://localhost:6333/healthz`
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ `/v1` –≤ URL –¥–ª—è Qdrant
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –Ω–µ—Ç –ª–∏ API –∫–ª—é—á–∞ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Qdrant

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ "Connection refused"

**–†–µ—à–µ–Ω–∏–µ:**
1. –ï—Å–ª–∏ AnythingLLM –≤ Docker, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ IP —Ö–æ—Å—Ç–∞ –≤–º–µ—Å—Ç–æ `localhost`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ firewall –ø—Ä–∞–≤–∏–ª–∞
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ—Ä—Ç—ã –Ω–µ –∑–∞–Ω—è—Ç—ã: `netstat -an | grep 8001`

### –ü—Ä–æ–±–ª–µ–º–∞: –ú–µ–¥–ª–µ–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è

**–†–µ—à–µ–Ω–∏–µ:**
1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ SMALL model –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ (–ø–æ—Ä—Ç 8002)
2. –£–º–µ–Ω—å—à–∏—Ç–µ `max_tokens` –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö AnythingLLM
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ GPU —É—Ç–∏–ª–∏–∑–∞—Ü–∏—é: `nvidia-smi`
4. –£–≤–µ–ª–∏—á—å—Ç–µ `VLLM_MAX_NUM_SEQS` –µ—Å–ª–∏ –µ—Å—Ç—å —Å–≤–æ–±–æ–¥–Ω–∞—è –ø–∞–º—è—Ç—å

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- **–î–µ—Ç–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–≤—É—Ö –º–æ–¥–µ–ª–µ–π:** –°–º. `DUAL_MODELS_QUICKSTART.md`
- **MIG –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:** –°–º. `MIG_QUICKSTART.md`
- **vLLM –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** https://docs.vllm.ai/
- **AnythingLLM –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** https://docs.anythingllm.com/

## ‚ùì FAQ

**Q: –ù—É–∂–µ–Ω –ª–∏ API –∫–ª—é—á –¥–ª—è vLLM?**
A: –ù–µ—Ç, vLLM –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏. –ú–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –ª—é–±–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `not-needed`).

**Q: –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ workspace –≤ AnythingLLM —Å –æ–¥–Ω–∏–º Qdrant?**
A: –î–∞, AnythingLLM —Å–æ–∑–¥–∞—ë—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ workspace.

**Q: –ö–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç –ª–∏ AnythingLLM —Å –≤–∞—à–∏–º backend?**
A: –ù–µ—Ç, –æ–±–∞ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω Qdrant –∏–Ω—Å—Ç–∞–Ω—Å. AnythingLLM —Å–æ–∑–¥–∞—ë—Ç —Å–≤–æ–∏ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `anythingllm-`, –∞ backend –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–ª–ª–µ–∫—Ü–∏—é `docs`.

**Q: –ö–∞–∫ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É –º–æ–¥–µ–ª—è–º–∏ –≤ AnythingLLM?**
A: –î–æ–±–∞–≤—å—Ç–µ –æ–±–µ –º–æ–¥–µ–ª–∏ –∫–∞–∫ —Ä–∞–∑–Ω—ã–µ LLM Provider –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö AnythingLLM –∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–π—Ç–µ—Å—å –º–µ–∂–¥—É –Ω–∏–º–∏ –ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

**Q: –°–∫–æ–ª—å–∫–æ –ø–∞–º—è—Ç–∏ –Ω—É–∂–Ω–æ –¥–ª—è –æ–±–µ–∏—Ö –º–æ–¥–µ–ª–µ–π?**
A: –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π. –ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è ~20B –º–æ–¥–µ–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ~40-45 GB, –¥–ª—è ~7B –º–æ–¥–µ–ª–∏ ~14-16 GB. –ò—Ç–æ–≥–æ ~60 GB GPU –ø–∞–º—è—Ç–∏.

**Q: –ú–æ–∂–Ω–æ –ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É –º–æ–¥–µ–ª—å?**
A: –î–∞, –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –æ–¥–∏–Ω –∏–∑ vllm —Å–µ—Ä–≤–∏—Å–æ–≤ (`vllm-medium` –∏–ª–∏ `vllm-small`) –≤ `docker-compose.vllm-mig.yml` –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `make up-vllm-mig` –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–æ–ª—å–∫–æ MEDIUM –º–æ–¥–µ–ª–∏.

**Q: –ö–∞–∫–∏–µ –º–æ–¥–µ–ª–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?**
A: –õ—é–±—ã–µ –º–æ–¥–µ–ª–∏ –∏–∑ HuggingFace, —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ —Å vLLM. –£–∫–∞–∂–∏—Ç–µ –Ω—É–∂–Ω—É—é –º–æ–¥–µ–ª—å –≤ `VLLM_MODEL_MEDIUM` –∏–ª–∏ `VLLM_MODEL_SMALL` –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö.

