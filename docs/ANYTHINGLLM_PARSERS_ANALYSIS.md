# –ê–Ω–∞–ª–∏–∑ –ø–∞—Ä—Å–µ—Ä–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ AnythingLLM

## üéØ –ó–∞–¥–∞—á–∞
–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å [AnythingLLM](https://github.com/Mintplex-Labs/anything-llm) –∏ –æ—Ü–µ–Ω–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∏—Ö –ø–∞—Ä—Å–µ—Ä–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ —Ç–µ–∫—É—â–∏–π RAG-–ø–∞–π–ø–ª–∞–π–Ω.

---

## üìä –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞: –¢–µ–∫—É—â–∏–π –ø–∞–π–ø–ª–∞–π–Ω vs AnythingLLM

| –§–æ—Ä–º–∞—Ç | –¢–µ–∫—É—â–∏–π –ø–∞–π–ø–ª–∞–π–Ω | AnythingLLM | –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ AnythingLLM |
|--------|------------------|-------------|--------------------------|
| **PDF** | PyMuPDF + pdfplumber | pdf-parse + OCR (Tesseract.js) | ‚úÖ OCR –¥–ª—è —Å–∫–∞–Ω–æ–≤, fallback –ª–æ–≥–∏–∫–∞ |
| **DOCX** | python-docx | Langchain DocxLoader | ‚úÖ –¢–∞ –∂–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ (mammoth) |
| **XLSX/CSV** | pandas + openpyxl | node-xlsx | ‚âà –ü–æ—Ö–æ–∂–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ |
| **TXT/MD** | decode utf-8 | fs.readFile | ‚âà –ò–¥–µ–Ω—Ç–∏—á–Ω–æ |
| **Images** | ‚ùå –ù–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ | Tesseract.js OCR | ‚úÖ **–ù–û–í–û–ï**: PNG, JPG, WebP |
| **Audio** | ‚ùå –ù–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ | Whisper (local/OpenAI) | ‚úÖ **–ù–û–í–û–ï**: MP3, WAV, M4A |
| **EPUB** | ‚ùå –ù–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ | Langchain EPubLoader | ‚úÖ **–ù–û–í–û–ï**: –≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–µ –∫–Ω–∏–≥–∏ |
| **MBOX** | ‚ùå –ù–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ | mbox-parser | ‚úÖ **–ù–û–í–û–ï**: Email –∞—Ä—Ö–∏–≤—ã |
| **PPTX** | ‚ùå –ù–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ | officeparser | ‚úÖ **–ù–û–í–û–ï**: PowerPoint |
| **ODT/ODP** | ‚ùå –ù–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ | officeparser | ‚úÖ **–ù–û–í–û–ï**: LibreOffice |
| **HTML** | ‚ùå –ù–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ | html-to-text | ‚úÖ **–ù–û–í–û–ï**: Web pages |
| **JSON** | ‚ùå –ù–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ | JSON.parse | ‚úÖ **–ù–û–í–û–ï**: Structured data |

---

## üîß –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ AnythingLLM

### –ü–∞—Ä—Å–∏–Ω–≥ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (–∏–∑ package.json)

```json
{
  // PDF
  "pdf-parse": "^1.1.1",           // –ü–∞—Ä—Å–∏–Ω–≥ —Ü–∏—Ñ—Ä–æ–≤—ã—Ö PDF
  "tesseract.js": "^6.0.0",        // OCR –¥–ª—è —Å–∫–∞–Ω–æ–≤
  "sharp": "^0.33.5",              // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
  
  // Office –¥–æ–∫—É–º–µ–Ω—Ç—ã
  "mammoth": "^1.6.0",             // DOCX (—á–µ—Ä–µ–∑ Langchain)
  "node-xlsx": "^0.24.0",          // Excel
  "officeparser": "^4.0.5",        // PPTX, ODT, ODP
  
  // –î—Ä—É–≥–∏–µ —Ñ–æ—Ä–º–∞—Ç—ã
  "epub2": "^3.0.2",               // –≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–µ –∫–Ω–∏–≥–∏
  "mbox-parser": "^1.0.1",         // Email –∞—Ä—Ö–∏–≤—ã
  "html-to-text": "^9.0.5",        // HTML —Å—Ç—Ä–∞–Ω–∏—Ü—ã
  
  // Audio
  "fluent-ffmpeg": "^2.1.2",       // –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –∞—É–¥–∏–æ
  "wavefile": "^11.0.0",           // WAV –æ–±—Ä–∞–±–æ—Ç–∫–∞
  
  // Langchain
  "@langchain/community": "^0.2.23",
  "langchain": "0.1.36",
  
  // –£—Ç–∏–ª–∏—Ç—ã
  "js-tiktoken": "^1.0.8",         // –ü–æ–¥—Å—á–µ—Ç —Ç–æ–∫–µ–Ω–æ–≤
  "slugify": "^1.6.6"              // URL-safe –∏–º–µ–Ω–∞
}
```

---

## üÜö –î–µ—Ç–∞–ª—å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ

### 1. PDF Parsing

#### –¢–µ–∫—É—â–∏–π –ø–∞–π–ø–ª–∞–π–Ω
```python
# backend/services/parsers.py
import fitz  # PyMuPDF
import pdfplumber

def parse_pdf_bytes(data: bytes) -> str:
    # 1. PyMuPDF –¥–ª—è markdown
    # 2. Fallback –Ω–∞ pdfplumber –¥–ª—è —Ç–µ–∫—Å—Ç–∞
```

**–ë–∏–±–ª–∏–æ—Ç–µ–∫–∏:**
- `pymupdf>=1.24` - –æ—Å–Ω–æ–≤–Ω–æ–π –ø–∞—Ä—Å–µ—Ä
- `pdfplumber>=0.11` - fallback

#### AnythingLLM
```javascript
// collector/processSingleFile/convert/asPDF/index.js
const PDFLoader = require("./PDFLoader");
const OCRLoader = require("../../../utils/OCRLoader");

async function asPdf(file) {
  let docs = await pdfLoader.load();  // pdf-parse
  
  // –ï—Å–ª–∏ –ø—É—Å—Ç–æ - –ø—Ä–æ–±—É–µ–º OCR
  if (docs.length === 0) {
    docs = await OCRLoader.ocrPDF(fullFilePath);  // Tesseract.js
  }
}
```

**–ë–∏–±–ª–∏–æ—Ç–µ–∫–∏:**
- `pdf-parse` - –æ—Å–Ω–æ–≤–Ω–æ–π –ø–∞—Ä—Å–µ—Ä (pdf.js v1.10.100)
- `tesseract.js` - OCR –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö PDF
- `sharp` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

**‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ AnythingLLM:**
- **OCR –ø–æ–¥–¥–µ—Ä–∂–∫–∞** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback –Ω–∞ Tesseract –¥–ª—è —Å–∫–∞–Ω–æ–≤
- **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** - worker pool –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ OCR
- **Batch processing** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü –±–∞—Ç—á–∞–º–∏

**‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- JavaScript –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (vs —á–∏—Å—Ç—ã–π Python)
- –ë–æ–ª—å—à–µ –ø–∞–º—è—Ç–∏ –¥–ª—è OCR (Tesseract workers)

---

### 2. DOCX Parsing

#### –¢–µ–∫—É—â–∏–π –ø–∞–π–ø–ª–∞–π–Ω
```python
from docx import Document

def parse_docx_bytes(data: bytes) -> str:
    d = Document(io.BytesIO(data))
    # –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–∞—Ä–∞–≥—Ä–∞—Ñ–æ–≤, –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤, —Å–ø–∏—Å–∫–æ–≤
```

**–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞:** `python-docx>=1.1`

#### AnythingLLM
```javascript
const { DocxLoader } = require("langchain/document_loaders/fs/docx");

// –ò—Å–ø–æ–ª—å–∑—É–µ—Ç mammoth –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º
const loader = new DocxLoader(fullFilePath);
const docs = await loader.load();
```

**–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞:** `mammoth` (—á–µ—Ä–µ–∑ Langchain)

**‚âà –°—Ä–∞–≤–Ω–µ–Ω–∏–µ:**
- –û–±–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –ø–æ—Ö–æ–∂–µ
- python-docx —á—É—Ç—å –±–æ–ª–µ–µ –≥–∏–±–∫–∞—è
- mammoth –ø—Ä–æ—â–µ –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏
- **–í—ã–≤–æ–¥:** –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –Ω–µ –¥–∞—Å—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã—Ö —É–ª—É—á—à–µ–Ω–∏–π

---

### 3. Excel/CSV Parsing

#### –¢–µ–∫—É—â–∏–π –ø–∞–π–ø–ª–∞–π–Ω
```python
import pandas as pd

def parse_xlsx_bytes(data: bytes) -> str:
    xls = pd.ExcelFile(io.BytesIO(data))
    # –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ markdown —Ç–∞–±–ª–∏—Ü—ã
```

**–ë–∏–±–ª–∏–æ—Ç–µ–∫–∏:** `pandas>=2.2`, `openpyxl>=3.1`

#### AnythingLLM
```javascript
const xlsx = require("node-xlsx").default;

const workSheetsFromFile = xlsx.parse(fullFilePath);
// –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ CSV
```

**–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞:** `node-xlsx`

**‚âà –°—Ä–∞–≤–Ω–µ–Ω–∏–µ:**
- pandas –±–æ–ª–µ–µ –º–æ—â–Ω—ã–π (—Ñ–∏–ª—å—Ç—Ä—ã, –∞–Ω–∞–ª–∏–∑)
- node-xlsx –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç–æ–π
- **–í—ã–≤–æ–¥:** –¢–µ–∫—É—â–µ–µ —Ä–µ—à–µ–Ω–∏–µ –ª—É—á—à–µ

---

### 4. **–ù–û–í–´–ï —Ñ–æ—Ä–º–∞—Ç—ã –≤ AnythingLLM**

#### 4.1. Images (OCR) ‚ú®

```javascript
// asImage.js
const OCRLoader = require("../../utils/OCRLoader");

async function asImage({ fullFilePath }) {
  let content = await new OCRLoader({
    targetLanguages: options?.ocr?.langList  // eng, rus, deu, fra...
  }).ocrImage(fullFilePath);
  
  return content;  // –ò–∑–≤–ª–µ—á–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç
}
```

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã:**
- PNG, JPG, JPEG, WebP, TIFF, BMP

**–ë–∏–±–ª–∏–æ—Ç–µ–∫–∏:**
- `tesseract.js` - OCR engine
- `sharp` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

**Use cases:**
- –°–∫–∞–Ω—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- –°–∫—Ä–∏–Ω—à–æ—Ç—ã
- –ò–Ω—Ñ–æ–≥—Ä–∞—Ñ–∏–∫–∞
- –î–∏–∞–≥—Ä–∞–º–º—ã

#### 4.2. Audio (–¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è) ‚ú®

```javascript
// asAudio.js
const { LocalWhisper } = require("../../utils/WhisperProviders/localWhisper");
const { OpenAiWhisper } = require("../../utils/WhisperProviders/OpenAiWhisper");

async function asAudio({ fullFilePath }) {
  const whisper = new LocalWhisper();  // –∏–ª–∏ OpenAI
  const { content } = await whisper.processFile(fullFilePath);
  
  return content;  // –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è
}
```

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã:**
- MP3, WAV, M4A, FLAC, OGG

**–ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã:**
- **Local Whisper** - —á–µ—Ä–µ–∑ whisper.cpp –∏–ª–∏ transformers
- **OpenAI Whisper** - —á–µ—Ä–µ–∑ API

**Use cases:**
- –°–æ–≤–µ—â–∞–Ω–∏—è/–≤—Å—Ç—Ä–µ—á–∏
- –õ–µ–∫—Ü–∏–∏
- –ü–æ–¥–∫–∞—Å—Ç—ã
- –ì–æ–ª–æ—Å–æ–≤—ã–µ –∑–∞–º–µ—Ç–∫–∏

#### 4.3. EPUB (–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–µ –∫–Ω–∏–≥–∏) ‚ú®

```javascript
// asEPub.js
const { EPubLoader } = require("langchain/document_loaders/fs/epub");

const loader = new EPubLoader(fullFilePath, { splitChapters: false });
const docs = await loader.load();
```

**–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞:** `epub2` (—á–µ—Ä–µ–∑ Langchain)

**Use cases:**
- –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ –∫–Ω–∏–≥
- –û–±—É—á–∞—é—â–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã
- –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞

#### 4.4. MBOX (Email –∞—Ä—Ö–∏–≤—ã) ‚ú®

```javascript
// asMbox.js
const { mboxParser } = require("mbox-parser");

const mails = await mboxParser(fs.createReadStream(fullFilePath));
// –ö–∞–∂–¥–æ–µ –ø–∏—Å—å–º–æ - –æ—Ç–¥–µ–ª—å–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç
```

**–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞:** `mbox-parser`

**Use cases:**
- Gmail/Outlook —ç–∫—Å–ø–æ—Ä—Ç
- –ê—Ä—Ö–∏–≤—ã –ø–µ—Ä–µ–ø–∏—Å–∫–∏
- Email –±—ç–∫–∞–ø—ã

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å:** –†–∞–∑–±–∏–≤–∞–µ—Ç –ø–æ –æ—Ç–¥–µ–ª—å–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏—è–º (vs —Ç–µ–∫—É—â–∏–π txt –ø–æ–¥—Ö–æ–¥)

#### 4.5. PowerPoint (PPTX) ‚ú®

```javascript
// asOfficeMime.js
const officeParser = require("officeparser");

const content = await officeParser.parseOfficeAsync(fullFilePath);
```

**–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞:** `officeparser`

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç:**
- PPTX, PPT
- ODT (OpenDocument Text)
- ODP (OpenDocument Presentation)

**Use cases:**
- –ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏
- –°–ª–∞–π–¥—ã
- LibreOffice –¥–æ–∫—É–º–µ–Ω—Ç—ã

#### 4.6. HTML ‚ú®

```javascript
// constants.js
".html": "./convert/asTxt.js",

// –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è html-to-text –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏
```

**–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞:** `html-to-text`

**Use cases:**
- –í–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—ã
- –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏
- Documentation —Å–∞–π—Ç—ã

---

## üí° –ö–ª—é—á–µ–≤—ã–µ –æ—Ç–ª–∏—á–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### AnythingLLM –ø–æ–¥—Ö–æ–¥

```javascript
// NodeJS –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
collector/  
‚îú‚îÄ‚îÄ processSingleFile/    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
‚îÇ   ‚îî‚îÄ‚îÄ convert/
‚îÇ       ‚îú‚îÄ‚îÄ asPDF.js      // –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–∞—Ä—Å–µ—Ä
‚îÇ       ‚îú‚îÄ‚îÄ asDocx.js
‚îÇ       ‚îî‚îÄ‚îÄ asImage.js
‚îú‚îÄ‚îÄ processLink/          // –û–±—Ä–∞–±–æ—Ç–∫–∞ URL
‚îî‚îÄ‚îÄ processRawText/       // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞

// –ö–∞–∂–¥—ã–π –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç:
{
  id: uuid,
  pageContent: string,
  token_count_estimate: number,
  metadata: {...}
}
```

### –¢–µ–∫—É—â–∏–π –ø–∞–π–ø–ª–∞–π–Ω

```python
# Python –º–æ–Ω–æ–ª–∏—Ç–Ω—ã–π –ø–æ–¥—Ö–æ–¥
backend/services/
‚îî‚îÄ‚îÄ parsers.py            // –í—Å–µ –ø–∞—Ä—Å–µ—Ä—ã –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ
    ‚îú‚îÄ‚îÄ parse_pdf_bytes()
    ‚îú‚îÄ‚îÄ parse_docx_bytes()
    ‚îú‚îÄ‚îÄ parse_xlsx_bytes()
    ‚îî‚îÄ‚îÄ parse_txt_bytes()

# –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ—Å—Ç–æ —Å—Ç—Ä–æ–∫—É
return markdown_text
```

---

## üîç –î–µ—Ç–∞–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### ‚úÖ –°—Ç–æ–∏—Ç –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å

#### 1. **OCR –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ PDF** ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π

**–ß—Ç–æ –¥–æ–±–∞–≤–ª—è–µ—Ç:**
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏–∑ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö PDF
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (PNG, JPG)

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è AnythingLLM:**
```javascript
tesseract.js + sharp
- Multi-threaded OCR (4 workers –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- Batch processing (10 —Å—Ç—Ä–∞–Ω–∏—Ü –∑–∞ —Ä–∞–∑)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 100+ —è–∑—ã–∫–æ–≤
```

**Python –∞–Ω–∞–ª–æ–≥:**
```python
# –ú–æ–∂–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å:
pytesseract + Pillow
# –∏–ª–∏
easyocr (GPU-accelerated)
# –∏–ª–∏
paddleocr (–±—ã—Å—Ç—Ä–µ–µ Tesseract)
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** ‚úÖ –î–æ–±–∞–≤–∏—Ç—å OCR –ø–æ–¥–¥–µ—Ä–∂–∫—É –≤ parsers.py

---

#### 2. **Audio —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è** ‚≠ê‚≠ê‚≠ê‚≠ê
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π-–í—ã—Å–æ–∫–∏–π

**–ß—Ç–æ –¥–æ–±–∞–≤–ª—è–µ—Ç:**
- –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è –∞—É–¥–∏–æ –∑–∞–ø–∏—Å–µ–π —Å–æ–≤–µ—â–∞–Ω–∏–π
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –≥–æ–ª–æ—Å–æ–≤—ã—Ö –∑–∞–º–µ—Ç–æ–∫
- –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –ø–æ–¥–∫–∞—Å—Ç–æ–≤/–ª–µ–∫—Ü–∏–π

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è AnythingLLM:**
```javascript
Whisper (OpenAI API –∏–ª–∏ local)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ MP3, WAV, M4A
- ffmpeg –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏
```

**Python –∞–Ω–∞–ª–æ–≥:**
```python
# –í–∞—Ä–∏–∞–Ω—Ç—ã:
1. openai-whisper (official, CPU/GPU)
2. faster-whisper (CTranslate2, 4x –±—ã—Å—Ç—Ä–µ–µ)
3. whisper.cpp (C++, –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä—ã–π)
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** ‚úÖ –î–æ–±–∞–≤–∏—Ç—å Whisper –¥–ª—è –∞—É–¥–∏–æ

---

#### 3. **EPUB (–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–µ –∫–Ω–∏–≥–∏)** ‚≠ê‚≠ê‚≠ê
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π

**–ß—Ç–æ –¥–æ–±–∞–≤–ª—è–µ—Ç:**
- –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ –∫–Ω–∏–≥
- –û–±—É—á–∞—é—â–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è AnythingLLM:**
```javascript
epub2 (—á–µ—Ä–µ–∑ Langchain)
```

**Python –∞–Ω–∞–ª–æ–≥:**
```python
ebooklib –∏–ª–∏ epub
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** ‚úÖ –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è technical_docs

---

#### 4. **MBOX (Email –∞—Ä—Ö–∏–≤—ã)** ‚≠ê‚≠ê‚≠ê‚≠ê
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π (—É—á–∏—Ç—ã–≤–∞—è –Ω–∞–ª–∏—á–∏–µ email_correspondence)

**–ß—Ç–æ –¥–æ–±–∞–≤–ª—è–µ—Ç:**
- –ò–º–ø–æ—Ä—Ç Gmail/Outlook —ç–∫—Å–ø–æ—Ä—Ç–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∞ email –∞—Ä—Ö–∏–≤–æ–≤
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ –æ—Ç–¥–µ–ª—å–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏—è–º

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è AnythingLLM:**
```javascript
mbox-parser
- –ü–∞—Ä—Å–∏—Ç –∫–∞–∂–¥–æ–µ –ø–∏—Å—å–º–æ –æ—Ç–¥–µ–ª—å–Ω–æ
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç From, Subject, Date
```

**Python –∞–Ω–∞–ª–æ–≥:**
```python
mailbox (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ Python!)
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** ‚úÖ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å (—É –≤–∞—Å –µ—Å—Ç—å email –ø–µ—Ä–µ–ø–∏—Å–∫–∞!)

---

#### 5. **PowerPoint (PPTX)** ‚≠ê‚≠ê‚≠ê
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π

**–ß—Ç–æ –¥–æ–±–∞–≤–ª—è–µ—Ç:**
- –ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏
- –°–ª–∞–π–¥—ã

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è AnythingLLM:**
```javascript
officeparser
- –ò–∑–≤–ª–µ–∫–∞–µ—Ç —Ç–µ–∫—Å—Ç –∏–∑ PPTX
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ ODP (LibreOffice)
```

**Python –∞–Ω–∞–ª–æ–≥:**
```python
python-pptx
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** ‚úÖ –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è presentations –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

---

### ‚âà –ú–æ–∂–Ω–æ –Ω–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å (—É–∂–µ –µ—Å—Ç—å –∏–ª–∏ –Ω–µ –Ω—É–∂–Ω–æ)

#### 6. **HTML** ‚≠ê‚≠ê
**–ü—Ä–∏—á–∏–Ω–∞:** –ü—Ä–æ—Å—Ç–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è, –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ª–µ–≥–∫–æ

```python
# Python –∞–Ω–∞–ª–æ–≥ (–æ–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞):
from html2text import html2text
```

#### 7. **JSON** ‚≠ê
**–ü—Ä–∏—á–∏–Ω–∞:** –°–ª–∏—à–∫–æ–º —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç, –Ω–µ –æ–±—â–µ–≥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è

---

## üì¶ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –æ—Ç–ª–∏—á–∏—è

### AnythingLLM: –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã (NodeJS)

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Frontend (React)                       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ
           ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Server (NodeJS)                        ‚îÇ
‚îÇ  - API endpoints                        ‚îÇ
‚îÇ  - Vector DB —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ
           ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Collector (NodeJS) ‚Üê –û—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å! ‚îÇ
‚îÇ  - –ü–∞—Ä—Å–∏–Ω–≥ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤                   ‚îÇ
‚îÇ  - OCR                                  ‚îÇ
‚îÇ  - Whisper                              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –¢–µ–∫—É—â–∏–π –ø–∞–π–ø–ª–∞–π–Ω: –ú–æ–Ω–æ–ª–∏—Ç (Python)

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Backend (FastAPI)                      ‚îÇ
‚îÇ  - API endpoints                        ‚îÇ
‚îÇ  - –ü–∞—Ä—Å–∏–Ω–≥ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ ‚Üê –í—Å—ë –≤ –æ–¥–Ω–æ–º     ‚îÇ
‚îÇ  - Vector DB —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ                 ‚îÇ
‚îÇ  - RAG –ª–æ–≥–∏–∫–∞                           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (—Å–ª–æ–∂–Ω–æ)

–ü–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –ø–∞—Ä—Å–µ—Ä—ã AnythingLLM –≤ Python:

**–ü–ª—é—Å—ã:**
- ‚úÖ –í—Å–µ —Ñ–æ—Ä–º–∞—Ç—ã
- ‚úÖ –ï–¥–∏–Ω—ã–π —Å—Ç–µ–∫ (Python)

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ú–Ω–æ–≥–æ —Ä–∞–±–æ—Ç—ã (2-3 –Ω–µ–¥–µ–ª–∏)
- ‚ùå –ù—É–∂–Ω–æ –ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å logic
- ‚ùå –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ

**–û—Ü–µ–Ω–∫–∞:** üî¥ –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è (—Å–ª–∏—à–∫–æ–º –∑–∞—Ç—Ä–∞—Ç–Ω–æ)

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: –°–µ–ª–µ–∫—Ç–∏–≤–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) ‚≠ê

–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ **—Å–∞–º—ã–µ –ø–æ–ª–µ–∑–Ω—ã–µ** –ø–∞—Ä—Å–µ—Ä—ã –≤ Python:

#### –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:

1. **OCR –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** (pytesseract –∏–ª–∏ easyocr)
   ```python
   # backend/services/parsers.py
   def parse_image_bytes(data: bytes) -> str:
       import pytesseract
       from PIL import Image
       image = Image.open(io.BytesIO(data))
       return pytesseract.image_to_string(image, lang='eng+rus')
   ```
   **–í—Ä–µ–º—è:** 1-2 –¥–Ω—è

2. **MBOX email parser** (mailbox —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞!)
   ```python
   import mailbox
   
   def parse_mbox_bytes(data: bytes) -> str:
       mbox = mailbox.mbox(io.BytesIO(data))
       texts = []
       for message in mbox:
           texts.append(f"From: {message['from']}\n{message.get_payload()}")
       return "\n\n---\n\n".join(texts)
   ```
   **–í—Ä–µ–º—è:** 1 –¥–µ–Ω—å

3. **Audio —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è** (faster-whisper)
   ```python
   def parse_audio_bytes(file_path: str) -> str:
       from faster_whisper import WhisperModel
       model = WhisperModel("base")
       segments, _ = model.transcribe(file_path)
       return " ".join([seg.text for seg in segments])
   ```
   **–í—Ä–µ–º—è:** 2-3 –¥–Ω—è

4. **EPUB** (ebooklib)
   ```python
   def parse_epub_bytes(data: bytes) -> str:
       import ebooklib
       from ebooklib import epub
       book = epub.read_epub(io.BytesIO(data))
       # –ò–∑–≤–ª–µ—á—å —Ç–µ–∫—Å—Ç –∏–∑ –≥–ª–∞–≤
   ```
   **–í—Ä–µ–º—è:** 1 –¥–µ–Ω—å

5. **PPTX** (python-pptx)
   ```python
   def parse_pptx_bytes(data: bytes) -> str:
       from pptx import Presentation
       prs = Presentation(io.BytesIO(data))
       texts = []
       for slide in prs.slides:
           for shape in slide.shapes:
               if hasattr(shape, "text"):
                   texts.append(shape.text)
       return "\n\n".join(texts)
   ```
   **–í—Ä–µ–º—è:** 1 –¥–µ–Ω—å

**–ò—Ç–æ–≥–æ –≤—Ä–µ–º—è:** 6-9 –¥–Ω–µ–π

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è:**
```python
# requirements.txt
pytesseract>=0.3.10      # OCR
Pillow>=10.0             # Images
faster-whisper>=1.0      # Audio transcription
ebooklib>=0.18           # EPUB
python-pptx>=0.6.23      # PowerPoint
```

---

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ì–∏–±—Ä–∏–¥–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (—Å–ª–æ–∂–Ω–æ, –Ω–æ –≥–∏–±–∫–æ)

–ó–∞–ø—É—Å—Ç–∏—Ç—å AnythingLLM Collector –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å:

```yaml
# docker-compose.yml
services:
  collector:
    build: ../anything-llm/collector
    ports: ["8500:8500"]
  
  backend:
    environment:
      - COLLECTOR_URL=http://collector:8500
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –í—Å–µ –ø–∞—Ä—Å–µ—Ä—ã AnythingLLM –∏–∑ –∫–æ—Ä–æ–±–∫–∏
- ‚úÖ –ù–µ –Ω—É–∂–Ω–æ –ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –î–≤–∞ —Å—Ç–µ–∫–∞ (Python + NodeJS)
- ‚ùå –°–ª–æ–∂–Ω–æ—Å—Ç—å –¥–µ–ø–ª–æ—è
- ‚ùå –ë–æ–ª—å—à–µ –ø–∞–º—è—Ç–∏

**–û—Ü–µ–Ω–∫–∞:** üü° –í–æ–∑–º–æ–∂–Ω–æ, –Ω–æ —É—Å–ª–æ–∂–Ω—è–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É

---

## üìä –ò—Ç–æ–≥–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

| –§–æ—Ä–º–∞—Ç | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –°–ª–æ–∂–Ω–æ—Å—Ç—å | –í—Ä–µ–º—è | –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ Python | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è |
|--------|-----------|-----------|-------|-------------------|--------------|
| **OCR Images** | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | –ù–∏–∑–∫–∞—è | 1-2 –¥–Ω—è | `pytesseract` –∏–ª–∏ `easyocr` | ‚úÖ –î–æ–±–∞–≤–∏—Ç—å |
| **MBOX emails** | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | –ù–∏–∑–∫–∞—è | 1 –¥–µ–Ω—å | `mailbox` (–≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è!) | ‚úÖ –î–æ–±–∞–≤–∏—Ç—å |
| **Audio (Whisper)** | ‚≠ê‚≠ê‚≠ê‚≠ê | –°—Ä–µ–¥–Ω—è—è | 2-3 –¥–Ω—è | `faster-whisper` | ‚úÖ –î–æ–±–∞–≤–∏—Ç—å |
| **PPTX** | ‚≠ê‚≠ê‚≠ê | –ù–∏–∑–∫–∞—è | 1 –¥–µ–Ω—å | `python-pptx` | ‚úÖ –î–æ–±–∞–≤–∏—Ç—å |
| **EPUB** | ‚≠ê‚≠ê‚≠ê | –ù–∏–∑–∫–∞—è | 1 –¥–µ–Ω—å | `ebooklib` | ‚úÖ –î–æ–±–∞–≤–∏—Ç—å |
| **HTML** | ‚≠ê‚≠ê | –ù–∏–∑–∫–∞—è | 0.5 –¥–Ω—è | `html2text` | üü° –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ |
| **JSON** | ‚≠ê | –ù–∏–∑–∫–∞—è | 0.5 –¥–Ω—è | `json` (–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π) | üü° –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ |

---

## üìà –í–ª–∏—è–Ω–∏–µ –Ω–∞ —Ç–µ–∫—É—â—É—é —Å–∏—Å—Ç–µ–º—É

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ parsers.py

```python
# backend/services/parsers.py

# –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
def parse_image_bytes(data: bytes) -> str:
    """OCR –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π"""
    
def parse_audio_file(file_path: str) -> str:
    """Whisper —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è"""
    
def parse_mbox_bytes(data: bytes) -> List[str]:
    """MBOX email –ø–∞—Ä—Å–∏–Ω–≥, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π"""
    
def parse_epub_bytes(data: bytes) -> str:
    """EPUB –∫–Ω–∏–≥–∏"""
    
def parse_pptx_bytes(data: bytes) -> str:
    """PowerPoint –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏"""
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ app.py

```python
# backend/app.py
from services.parsers import (
    parse_pdf_bytes,
    parse_docx_bytes,
    parse_xlsx_bytes,
    parse_txt_bytes,
    parse_image_bytes,     # NEW
    parse_audio_file,      # NEW
    parse_mbox_bytes,      # NEW
    parse_epub_bytes,      # NEW
    parse_pptx_bytes,      # NEW
)

# –í config.py –æ–±–Ω–æ–≤–∏—Ç—å:
ALLOWED_EXT = {
    ".txt", ".md", ".pdf", ".docx", ".xlsx", ".csv",
    ".png", ".jpg", ".jpeg", ".webp",  # Images
    ".mp3", ".wav", ".m4a",            # Audio
    ".mbox",                           # Email
    ".epub",                           # Books
    ".pptx",                           # Presentations
}
```

---

## üí∞ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∑–∞—Ç—Ä–∞—Ç

### –í–∞—Ä–∏–∞–Ω—Ç A: –°–µ–ª–µ–∫—Ç–∏–≤–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**–í—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:** 6-9 –¥–Ω–µ–π  
**–ù–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** 5-6 –±–∏–±–ª–∏–æ—Ç–µ–∫  
**–†–∞–∑–º–µ—Ä Docker image:** +500MB (–∏–∑-–∑–∞ Tesseract)  
**–ü–∞–º—è—Ç—å runtime:** +1-2GB (–¥–ª—è OCR/Whisper)  
**–ü–æ–¥–¥–µ—Ä–∂–∫–∞:** –ù–∏–∑–∫–∞—è (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ Python –±–∏–±–ª–∏–æ—Ç–µ–∫–∏)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ 5 –Ω–æ–≤—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤
- ‚úÖ OCR –¥–ª—è —Å–∫–∞–Ω–æ–≤
- ‚úÖ Audio —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è
- ‚úÖ –ï–¥–∏–Ω—ã–π Python —Å—Ç–µ–∫

---

### –í–∞—Ä–∏–∞–Ω—Ç B: –ì–∏–±—Ä–∏–¥–Ω–∞—è (AnythingLLM Collector —Å–µ—Ä–≤–∏—Å)

**–í—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:** 2-3 –¥–Ω—è (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è)  
**–ù–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** NodeJS, npm  
**–†–∞–∑–º–µ—Ä Docker image:** +1.5GB (NodeJS + –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏)  
**–ü–∞–º—è—Ç—å runtime:** +500MB (Collector —Å–µ—Ä–≤–∏—Å)  
**–ü–æ–¥–¥–µ—Ä–∂–∫–∞:** –°—Ä–µ–¥–Ω—è—è (–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç AnythingLLM)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –í—Å–µ —Ñ–æ—Ä–º–∞—Ç—ã AnythingLLM
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- ‚ùå –î–≤–∞ —Å—Ç–µ–∫–∞ (Python + NodeJS)
- ‚ùå –°–ª–æ–∂–Ω–µ–µ –¥–µ–ø–ª–æ–π

---

## üéØ –§–∏–Ω–∞–ª—å–Ω–æ–µ –∑–∞–∫–ª—é—á–µ–Ω–∏–µ

### ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –í–∞—Ä–∏–∞–Ω—Ç 2 (–°–µ–ª–µ–∫—Ç–∏–≤–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è)

**–î–æ–±–∞–≤–∏—Ç—å –≤ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–µ:**

1. **MBOX parser** (1 –¥–µ–Ω—å) - –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è email_correspondence
2. **OCR Images** (2 –¥–Ω—è) - —Å–∫–∞–Ω—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
3. **PPTX parser** (1 –¥–µ–Ω—å) - –¥–ª—è presentations –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
4. **Audio Whisper** (3 –¥–Ω—è) - –¥–ª—è messenger_correspondence (–≥–æ–ª–æ—Å–æ–≤—ã–µ)
5. **EPUB parser** (1 –¥–µ–Ω—å) - –¥–ª—è technical_docs

**–ò—Ç–æ–≥–æ:** 8 –¥–Ω–µ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

**–ù–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
```python
# requirements.txt
pytesseract>=0.3.10      # –∏–ª–∏ easyocr>=1.7
Pillow>=10.0
faster-whisper>=1.0      # –∏–ª–∏ openai-whisper
ebooklib>=0.18
python-pptx>=0.6.23
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- +5 –Ω–æ–≤—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤
- OCR –¥–ª—è —Å–∫–∞–Ω–æ–≤ –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –ê—É–¥–∏–æ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è
- –õ—É—á—à–∞—è —Ä–∞–±–æ—Ç–∞ —Å email –∞—Ä—Ö–∏–≤–∞–º–∏
- –ü–æ–ª–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π

---

### ‚ùå –ù–ï —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å

1. **–ó–∞–º–µ–Ω–∞ PDF –ø–∞—Ä—Å–µ—Ä–∞** - —Ç–µ–∫—É—â–∏–π (PyMuPDF) –ª—É—á—à–µ
2. **–ó–∞–º–µ–Ω–∞ DOCX –ø–∞—Ä—Å–µ—Ä–∞** - —Ç–µ–∫—É—â–∏–π –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ö–æ—Ä–æ—à
3. **–ó–∞–º–µ–Ω–∞ Excel –ø–∞—Ä—Å–µ—Ä–∞** - pandas –º–æ—â–Ω–µ–µ
4. **–ü–æ–ª–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ NodeJS** - –Ω–∞—Ä—É—à–∏—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É
5. **HTML/JSON –ø–∞—Ä—Å–µ—Ä—ã** - –Ω–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

### –ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ –Ω–∞—Ö–æ–¥–∫–∏ –∏–∑ AnythingLLM

1. **OCR Batching:** Worker pool –∏–∑ 4 –ø–æ—Ç–æ–∫–æ–≤ –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü
2. **Timeout management:** 5 –º–∏–Ω—É—Ç –Ω–∞ OCR –æ–¥–Ω–æ–≥–æ PDF
3. **Fallback –ª–æ–≥–∏–∫–∞:** –ï—Å–ª–∏ –æ—Å–Ω–æ–≤–Ω–æ–π –ø–∞—Ä—Å–µ—Ä –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª ‚Üí OCR
4. **Metadata extraction:** –ê–≤—Ç–æ—Ä, –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è, word count

### –ú–æ–∂–Ω–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å

```python
# –ò–¥–µ—è –∏–∑ AnythingLLM: OCR fallback –¥–ª—è PDF
def parse_pdf_bytes(data: bytes) -> str:
    try:
        # –û—Å–Ω–æ–≤–Ω–æ–π –ø–∞—Ä—Å–µ—Ä
        return pymupdf_parse(data)
    except EmptyTextException:
        # Fallback –Ω–∞ OCR –µ—Å–ª–∏ —Ç–µ–∫—Å—Ç–∞ –Ω–µ—Ç
        return ocr_pdf(data)
```

---

## üéâ –ò—Ç–æ–≥–æ–≤–æ–µ –∑–∞–∫–ª—é—á–µ–Ω–∏–µ

### –û—Ç–≤–µ—Ç –Ω–∞ –≤–∞—à –≤–æ–ø—Ä–æ—Å:

**–î–∞, –º–æ–∂–Ω–æ –∏ –Ω—É–∂–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å!** –ù–æ –Ω–µ –≤—Å—ë, –∞ —Å–µ–ª–µ–∫—Ç–∏–≤–Ω–æ:

‚úÖ **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ:**
- MBOX parser (email –∞—Ä—Ö–∏–≤—ã) - —É –≤–∞—Å —É–∂–µ –µ—Å—Ç—å email –∫–∞—Ç–µ–≥–æ—Ä–∏—è
- OCR –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π - –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è —Å–∫–∞–Ω–æ–≤

‚úÖ **–ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ:**
- Audio (Whisper) - –¥–ª—è –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- PPTX - –¥–ª—è presentations –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- EPUB - –¥–ª—è technical_docs

‚ùå **–ù–µ –Ω—É–∂–Ω–æ:**
- –ó–∞–º–µ–Ω–∞ PDF/DOCX/Excel –ø–∞—Ä—Å–µ—Ä–æ–≤ - —Ç–µ–∫—É—â–∏–µ –ª—É—á—à–µ
- HTML/JSON - –Ω–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–±–æ—Ç:** 6-9 –¥–Ω–µ–π  
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è  
**–ü–æ–ª—å–∑–∞:** –í—ã—Å–æ–∫–∞—è (5 –Ω–æ–≤—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤)

