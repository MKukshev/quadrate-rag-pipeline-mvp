# –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ (Timing Breakdown)

## ‚úÖ –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ

–ü–æ–ª–Ω–∞—è —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç HTTP –∑–∞–ø—Ä–æ—Å–∞ –¥–æ –æ—Ç–≤–µ—Ç–∞:

1. ‚è∞ **HTTP Request** - –≤—Ä–µ–º—è –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞
2. ‚è∞ **LLM Send** - –≤—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ LLM
3. ‚è∞ **LLM Receive** - –≤—Ä–µ–º—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–∞ –æ—Ç LLM
4. ‚è∞ **HTTP Response** - –≤—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Ç–≤–µ—Ç–∞ –∫–ª–∏–µ–Ω—Ç—É

---

## üîß –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

### 1. HTTP Middleware (app.py)

–õ–æ–≥–∏—Ä—É–µ—Ç –≤—Ä–µ–º—è –¥–ª—è –í–°–ï–• endpoints:

```python
class TimingMiddleware(BaseHTTPMiddleware):
    async def dispatch(self, request: Request, call_next):
        request_time = datetime.now()
        start_time = time.time()
        
        # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ö–æ–¥—è—â–µ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
        print(f"[HTTP REQUEST ‚¨áÔ∏è ] {request.method} {request.url.path}")
        print(f"  ‚è∞ Request time: {request_time.strftime('%H:%M:%S.%f')}")
        
        # –í—ã–∑–æ–≤ endpoint
        response = await call_next(request)
        
        # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞
        elapsed = time.time() - start_time
        print(f"[HTTP RESPONSE ‚¨ÜÔ∏è ] {request.method} {request.url.path}")
        print(f"  ‚è±Ô∏è  Total HTTP time: {elapsed:.3f}s")
        
        return response
```

### 2. LLM Timing (rag.py)

–õ–æ–≥–∏—Ä—É–µ—Ç –≤—Ä–µ–º—è –≤–Ω—É—Ç—Ä–∏ `call_llm()`:

```python
def call_llm(prompt: str, max_tokens: int = None) -> str:
    request_start = datetime.now()
    start_time = time.time()
    
    # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞
    print(f"üöÄ Sending request to Ollama...")
    llm_send_time = datetime.now()
    print(f"  ‚è∞ LLM send time: {llm_send_time}")
    
    # –í—ã–∑–æ–≤ LLM
    response = requests.post(...)
    
    # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞
    llm_receive_time = datetime.now()
    print(f"‚úÖ Response received from Ollama!")
    print(f"  ‚è∞ LLM receive time: {llm_receive_time}")
    
    # Breakdown
    print(f"‚è±Ô∏è  TIMING BREAKDOWN:")
    print(f"  - Request start:  {request_start}")
    print(f"  - LLM send:       {llm_send_time}")
    print(f"  - LLM receive:    {llm_receive_time}")
    print(f"  - Total:          {elapsed:.3f}s")
```

---

## üìä –§–æ—Ä–º–∞—Ç –ª–æ–≥–æ–≤

### –ü–æ–ª–Ω–∞—è —Ü–µ–ø–æ—á–∫–∞ –¥–ª—è `/summarize`:

```
üåê üåê üåê üåê üåê üåê üåê üåê üåê üåê üåê üåê üåê üåê üåê üåê üåê üåê üåê üåê üåê üåê üåê üåê üåê üåê üåê üåê üåê üåê 
[HTTP REQUEST ‚¨áÔ∏è ] POST /summarize
  ‚è∞ Request time: 20:15:30.123
  üìç Client: 192.168.65.1
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

[Summarize] Generating on-the-fly summary for test_doc_564945be
[Language Detection] Input text language: ru (–†—É—Å—Å–∫–∏–π)
[Summarization] Dynamic max_tokens: 500 (requested: 500, available: 4096)

================================================================================
[LLM REQUEST ‚Üí Ollama] Model: llama3.1:8b
================================================================================
üìù INPUT:
  - Prompt length: 973 chars, ~152 tokens
  - Max output tokens: 500
  - Context window: 40960
  - Timeout: 300s
  ‚è∞ Request time: 20:15:30.145
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
PROMPT PREVIEW (first 500 chars):
–í–ê–ñ–ù–û: –û—Ç–≤–µ—á–∞–π –Ω–∞ –†–£–°–°–ö–û–ú –Ø–ó–´–ö–ï...
================================================================================
üöÄ Sending request to Ollama...
  ‚è∞ LLM send time: 20:15:30.156

... [–≥–µ–Ω–µ—Ä–∞—Ü–∏—è 26 —Å–µ–∫—É–Ω–¥] ...

‚úÖ Response received from Ollama!
  ‚è∞ LLM receive time: 20:15:56.234

================================================================================
[LLM RESPONSE ‚Üê Ollama]
================================================================================
üì§ OUTPUT:
  - Response length: 1234 chars, ~156 tokens
  - Generation time: 26.08s
  - Speed: ~6.0 tokens/sec
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
‚è±Ô∏è  TIMING BREAKDOWN:
  - Request start:  20:15:30.145
  - LLM send:       20:15:30.156
  - LLM receive:    20:15:56.234
  - Total:          26.089s
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
RESPONSE PREVIEW (first 500 chars):
–ü—Ä–æ–µ–∫—Ç Alpha –±—ã–ª –∑–∞–ø—É—â–µ–Ω...
================================================================================

‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
[HTTP RESPONSE ‚¨ÜÔ∏è ] POST /summarize
  ‚úÖ Status: 200
  ‚è±Ô∏è  Total HTTP time: 26.234s
  ‚è∞ Response time: 20:15:56.357
üåê üåê üåê üåê üåê üåê üåê üåê üåê üåê üåê üåê üåê üåê üåê üåê üåê üåê üåê üåê üåê üåê üåê üåê üåê üåê üåê üåê üåê üåê 
```

---

## ‚è±Ô∏è –í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏

### –ß—Ç–æ –∏–∑–º–µ—Ä—è–µ—Ç—Å—è:

```
HTTP Request received       20:15:30.123  ‚Üê –í—Ä–µ–º—è –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è –≤ endpoint
  ‚îÇ
  ‚îú‚îÄ Processing (app.py)     ~0.02s
  ‚îÇ
  ‚îú‚îÄ LLM send                20:15:30.156  ‚Üê –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ Ollama/vLLM
  ‚îÇ
  ‚îú‚îÄ LLM generation          ~26.08s       ‚Üê –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞
  ‚îÇ
  ‚îú‚îÄ LLM receive             20:15:56.234  ‚Üê –ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞
  ‚îÇ
  ‚îú‚îÄ Post-processing         ~0.12s
  ‚îÇ
HTTP Response sent          20:15:56.357  ‚Üê –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–ª–∏–µ–Ω—Ç—É

Total: 26.234s
```

---

## üìä Breakdown –ø–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º

### –î–ª—è —Å—É–º–º–∞—Ä–∏–∑–∞—Ü–∏–∏ (`/summarize`):

```
Total HTTP time:     26.234s (100%)
‚îú‚îÄ Pre-LLM:          0.020s  (0.1%)   - –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö, –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞
‚îú‚îÄ LLM generation:   26.089s (99.5%)  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è LLM
‚îî‚îÄ Post-LLM:         0.125s  (0.4%)   - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
```

### –î–ª—è RAG (`/ask`):

```
Total HTTP time:     3.456s (100%)
‚îú‚îÄ Search:           0.234s  (6.8%)   - Hybrid search
‚îú‚îÄ Rerank:           0.045s  (1.3%)   - Reranking
‚îú‚îÄ LLM generation:   3.120s  (90.3%)  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞
‚îî‚îÄ Post-processing:  0.057s  (1.6%)   - –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ response
```

---

## üéØ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ

### 1. –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —É–∑–∫–∏—Ö –º–µ—Å—Ç

```
LLM generation: 45.6s  ‚ö†Ô∏è –°–ª–∏—à–∫–æ–º –¥–æ–ª–≥–æ!
‚Üí –†–µ—à–µ–Ω–∏–µ: –£–º–µ–Ω—å—à–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É–º–º–∞—Ä–∏–∑–∞—Ü–∏—é, –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ vLLM
```

```
Search: 2.3s  ‚ö†Ô∏è –ü–æ–∏—Å–∫ –º–µ–¥–ª–µ–Ω–Ω—ã–π!
‚Üí –†–µ—à–µ–Ω–∏–µ: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã Qdrant, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å reranking
```

### 2. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ Ollama vs vLLM

```
Ollama (CPU):
  LLM generation: 26.08s (~6 tokens/sec)

vLLM (GPU):
  LLM generation: 0.78s (~150 tokens/sec)

Speedup: 33x! üöÄ
```

### 3. –û—Ç–ª–∞–¥–∫–∞ timeout

```
LLM generation: 301.2s
LLM_TIMEOUT: 300s

‚Üí –ü—Ä–æ–±–ª–µ–º–∞: –ü—Ä–µ–≤—ã—Å–∏–ª–∏ timeout –Ω–∞ 1.2s
‚Üí –†–µ—à–µ–Ω–∏–µ: –£–≤–µ–ª–∏—á–∏—Ç—å LLM_TIMEOUT –¥–æ 360s
```

---

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö HTTP

–ö–∞–∂–¥—ã–π response —Å–æ–¥–µ—Ä–∂–∏—Ç:

```http
HTTP/1.1 200 OK
X-Process-Time: 26.234
...
```

–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–ª–∏–µ–Ω—Ç–µ:

```typescript
const response = await fetch('/summarize', {...});
const processTime = response.headers.get('X-Process-Time');
console.log(`Request took ${processTime}s`);
```

---

## üîç –ü—Ä–∏–º–µ—Ä –ø–æ–ª–Ω–æ–≥–æ –ª–æ–≥–∞

### `/ask` —Å —Å—É–º–º–∞—Ä–∏–∑–∞—Ü–∏–µ–π:

```
üåê üåê üåê [40 –∑–≤–µ–∑–¥–æ—á–µ–∫]
[HTTP REQUEST ‚¨áÔ∏è ] POST /ask
  ‚è∞ Request time: 20:30:15.456
  üìç Client: 192.168.65.1
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

================================================================================
[RAG CONTEXT] Query: '–†–∞—Å—Å–∫–∞–∂–∏ –ø—Ä–æ –≤—Å–µ –ø—Ä–æ–µ–∫—Ç—ã'
================================================================================
üìö RETRIEVED DOCUMENTS:
  - Chunks found: 20
  - Context size: ~5200 tokens
  - Model: llama3.1:8b
  - Context window: 8192
  - Summarization threshold: 3000
  - Mode: auto
  [1] project_1 chunk_0: –ü—Ä–æ–µ–∫—Ç –Ω–∞—á–∞–ª—Å —è...
  [2] project_2 chunk_5: –ë—é–¥–∂–µ—Ç —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç...
  ... –∏ –µ—â–µ 15 —á–∞–Ω–∫–æ–≤
================================================================================

[RAG] Mode: auto. Context 5200 tokens > threshold 3000. Using summarization.

[summarize_chunks] Context: ~5200 tokens, dynamic max_tokens: 1500

[Summarization] Document is large (5200 tokens). Starting Map-Reduce...

... [MAP —Ñ–∞–∑–∞ - 2 —á–∞–Ω–∫–∞] ...

================================================================================
[LLM REQUEST ‚Üí Ollama] Model: llama3.1:8b
================================================================================
üìù INPUT:
  - Prompt length: 2890 chars, ~580 tokens
  - Max output tokens: 300
  ‚è∞ Request time: 20:30:15.567
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
üöÄ Sending request to Ollama...
  ‚è∞ LLM send time: 20:30:15.578

‚úÖ Response received from Ollama!
  ‚è∞ LLM receive time: 20:30:28.901

‚è±Ô∏è  TIMING BREAKDOWN:
  - Request start:  20:30:15.567
  - LLM send:       20:30:15.578
  - LLM receive:    20:30:28.901
  - Total:          13.323s
================================================================================

... [REDUCE —Ñ–∞–∑–∞] ...

... [–§–∏–Ω–∞–ª—å–Ω—ã–π LLM –∑–∞–ø—Ä–æ—Å –¥–ª—è –æ—Ç–≤–µ—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é] ...

‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
[HTTP RESPONSE ‚¨ÜÔ∏è ] POST /ask
  ‚úÖ Status: 200
  ‚è±Ô∏è  Total HTTP time: 32.456s
  ‚è∞ Response time: 20:30:47.912
üåê üåê üåê [40 –∑–≤–µ–∑–¥–æ—á–µ–∫]
```

---

## üéØ –ò—Ç–æ–≥–æ

**–¢–µ–ø–µ—Ä—å –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è:**

‚úÖ **HTTP —É—Ä–æ–≤–µ–Ω—å** (–≤—Å–µ endpoints):
- –í—Ä–µ–º—è –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞
- –í—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Ç–≤–µ—Ç–∞
- –û–±—â–µ–µ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏

‚úÖ **LLM —É—Ä–æ–≤–µ–Ω—å** (–¥–µ—Ç–∞–ª—å–Ω–æ):
- –í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ –≤—ã–∑–æ–≤–∞ call_llm()
- –í—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ Ollama/vLLM
- –í—Ä–µ–º—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–∞
- Breakdown –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤

‚úÖ **–ú–µ—Ç—Ä–∏–∫–∏**:
- –†–∞–∑–º–µ—Ä—ã (chars, tokens)
- –°–∫–æ—Ä–æ—Å—Ç—å (tokens/sec)
- –í—Ä–µ–º–µ–Ω–Ω—ã–µ —à—Ç–∞–º–ø—ã —Å –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞–º–∏

**–†–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è Ollama –∏ vLLM –æ–¥–∏–Ω–∞–∫–æ–≤–æ!** ‚úÖ

